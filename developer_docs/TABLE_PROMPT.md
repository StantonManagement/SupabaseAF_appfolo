Based on this json data:




FOR DATASET:  premium_leads_billing_detail
{
  "name": "Cruz, Edwin",
  "charged_date": "2025-11-04",
  "refunded_date": null,
  "amount": "10.00",
  "guest_card_id": 2579,
  "guest_card_uuid": "b85a13a3-b92b-11f0-b6c3-02094d1ce055",
  "property_id": "142",
  "property": "S0020 - 31 Park - 31-33 Park St Hartford, CT 06106"
}
--------------------


FOR DATASET:  resident_financial_activity
{
  "account": "4105 - Rent Income",
  "account_name": "Rent Income",
  "account_number": "4105",
  "unit_address": "90-100 Park Street Apt 1 Hartford, CT 06106",
  "unit_street": "90-100 Park Street",
  "unit_street2": "Apt 1",
  "unit_city": "Hartford",
  "unit_state": "CT",
  "unit_zip": "06106",
  "last_receipt_date": "2025-10-10",
  "occupancy_name": "S0001 - 90 Park St - 90-100 Park Street Hartford, CT 06106 - Unit 1 - Ferguson , Shara L.",
  "unit_name": "Unit 1",
  "property_name": "S0001 - 90 Park St",
  "payer": "Ferguson , Shara L.",
  "sum_start_date": "85.00",
  "sum_charges": "0.00",
  "sum_payments": "0.00",
  "sum_end_date": "85.00"
}
--------------------




FOR DATASET:  security_deposit_funds_detail
{
  "property": "S0001 - 90 Park St - 90-100 Park Street Hartford, CT 06106",
  "property_name": "S0001 - 90 Park St",
  "property_id": 17,
  "property_address": "90-100 Park Street Hartford, CT 06106",
  "property_street": "90-100 Park Street",
  "property_street2": null,
  "property_city": "Hartford",
  "property_state": "CT",
  "property_zip": "06106",
  "unit": "Retail 1",
  "tenant_name": "Bueno Grocery LLC",
  "tenant_status": "Current",
  "move_in": "1970-01-01",
  "move_out": null,
  "amount": "2000.00",
  "unit_id": 157,
  "occupancy_id": 137,
  "sdr_echeck_eligibility": "No"
}
--------------------




FOR DATASET:  surveys_summary
{
  "survey_id": "1069",
  "survey_type": "Maintenance",
  "tenant": "Negron-Soto, Migdalia",
  "property": "S0008 - 38 Whit - 38-40 Whitmore Street Hartford, CT 06114",
  "property_id": "24",
  "work_order_number": "2120-1",
  "work_order_id": 2247,
  "service_request_id": 2120,
  "job_description": "(1) Heater is not working.",
  "assigned_user": "Kishan Walker",
  "vendor_name": "Stanton Management LLC",
  "questions": [
    {
      "id": "How satisfied are you with the overall experience?",
      "value": 5
    },
    {
      "id": "Has the issue been resolved completely?",
      "value": "No"
    },
    {
      "id": "Was the work completed in a timely manner?",
      "value": "No"
    },
    {
      "id": "Any additional feedback?",
      "value": "Sell to another person that really care about the property and segurity of the tenants ."
    }
  ],
  "date_sent": "2025-11-01",
  "date_received": "2025-11-01"
}
--------------------




FOR DATASET:  tenant_ledger
{
  "date": "2025-11-01",
  "payer": null,
  "description": "Rent Income - PP8",
  "debit": "100.00",
  "credit": null,
  "credit_debit_balance": null
}
--------------------




FOR DATASET:  unit_directory
{
  "property": "Northend Portfolio (For Loan Booking Only) - NA Hartford, CT 06120",
  "property_name": "Northend Portfolio (For Loan Booking Only)",
  "property_id": 85,
  "unit_address": "NA Hartford, CT 06120",
  "unit_street": "NA",
  "unit_street2": null,
  "unit_city": "Hartford",
  "unit_state": "CT",
  "unit_zip": "06120",
  "unit_name": "1",
  "market_rent": "0.00",
  "marketing_title": null,
  "marketing_description": null,
  "advertised_rent": "0.00",
  "posted_to_website": "No",
  "posted_to_internet": "No",
  "you_tube_url": null,
  "default_deposit": null,
  "sqft": null,
  "bedrooms": null,
  "bathrooms": null,
  "unit_tags": null,
  "unit_type": null,
  "created_on": "2023-05-09",
  "rentable": "No",
  "description": null,
  "rent_status": null,
  "legal_rent": null,
  "application_fee": "0.00",
  "rent_ready": "No",
  "unit_id": 342,
  "computed_market_rent": "0.00",
  "ready_for_showing_on": null,
  "visibility": "Active",
  "rentable_uid": "f6fa73c3-97ae-443f-8c5c-bcae4599774d",
  "portfolio_id": 6,
  "unit_integration_id": "8afab9d8-ee9f-11ed-b6c3-02094d1ce055",
  "unit_amenities": null,
  "unit_appliances": null,
  "unit_utilities": null,
  "billed_as": "Residential"
}
--------------------




FOR DATASET:  unit_inspection
{
  "property": "S0001 - 90 Park St - 90-100 Park Street Hartford, CT 06106",
  "property_name": "S0001 - 90 Park St",
  "property_id": 17,
  "property_address": "90-100 Park Street Hartford, CT 06106",
  "property_street": "90-100 Park Street",
  "property_street2": null,
  "property_city": "Hartford",
  "property_state": "CT",
  "property_zip": "06106",
  "unit_name": "9",
  "last_inspection_date": "2023-04-28",
  "tenant_name": "Rodriguez , Jessica",
  "tenant_primary_phone_number": "Phone: (860) 461-4044",
  "move_in_date": "2023-05-01",
  "move_out_date": null,
  "unit_id": 183,
  "occupancy_id": 278,
  "rentable": "Yes",
  "unit_tags": null
}
--------------------




FOR DATASET:  unpaid_balances_by_month
{
  "property": "S0001 - 90 Park St",
  "property_id": 17,
  "unit": "9",
  "unit_id": 183,
  "tenant": "Rodriguez , Jessica",
  "tags": "Hartford Housing",
  "tenant_id": 284,
  "occupancy_id": 278,
  "total_unpaid_balance": "264.00",
  "months": [
    {
      "id": "2025-11",
      "value": "264.00"
    }
  ]
}
--------------------



FOR DATASET:  tenant_transactions_summary
{
  "unit_name": "1",
  "occupancy_name": "Ferguson , Shara L.",
  "occupancy_status": "Current",
  "beginning_balance": "85.00",
  "rent_charges": "0.00",
  "late_charges": "0.00",
  "other_charges": "0.00",
  "cash_payments": "0.00",
  "ns_fs": "0.00",
  "concessions": "0.00",
  "other_credits": "0.00",
  "ending_balance": "85.00",
  "property_name_address": "S0001 - 90 Park St - 90-100 Park Street Hartford, CT 06106",
  "unit_id": 364,
  "occupancy_id": 586,
  "property_id": 17,
  "portfolio_id": 6
}
--------------------


FOR DATASET:  unit_custom_fields
{
  "unit_name": "Retail 1",
  "unit_id": 157,
  "property_id": 17
}
--------------------

FOR DATASET:  upcoming_activities
{
  "activity_date": "2025-01-20",
  "activity": "Reinspection_ 87 Park Street",
  "activity_for": "Cruz, Jeffrey",
  "label": "S8 Inspection",
  "property": "S0022 - 83 Park - 83-91 Park St Hartford, CT 06106",
  "property_name": "S0022 - 83 Park",
  "property_id": 141,
  "property_address": "83-91 Park St Hartford, CT 06106",
  "property_street": "83-91 Park St",
  "property_street2": null,
  "property_city": "Hartford",
  "property_state": "CT",
  "property_zip": "06106",
  "unit_address": "83-91 Park St Hartford, CT 06106",
  "unit_street": "83-91 Park St",
  "unit_street2": null,
  "unit_city": "Hartford",
  "unit_state": "CT",
  "unit_zip": "06106",
  "created_by": "Kristine Samson",
  "completed_by": null,
  "last_edited_by": null,
  "created_on": "2025-01-20",
  "completed_on": null,
  "last_edited_on": null,
  "status": "Queued",
  "assigned_user": "Dean Tahir",
  "unit_id": 380,
  "occupancy_id": 573,
  "owner_id": null,
  "rental_application_id": null
}
--------------------

FOR DATASET:  vendor_custom_fields
{
  "vendor_name": "Balseiro, Rafael",
  "vendor_id": 23
}
--------------------




===========

FOR DATASET:  vendor_directory
{
  "company_name": null,
  "name": "Acacio, Kathleen Deanne",
  "address": "421 Park St. Hartford, CT 06106",
  "street": "421 Park St.",
  "street2": null,
  "city": "Hartford",
  "state": "CT",
  "zip": "06106",
  "phone_numbers": null,
  "email": null,
  "default_gl_account": "50144 - Salaries & Wages - Virtual Staff",
  "payment_type": "eCheck",
  "send1099": "No",
  "workers_comp_expires": null,
  "liability_ins_expires": null,
  "epa_cert_expires": null,
  "auto_ins_expires": null,
  "state_lic_expires": null,
  "contract_expires": null,
  "tags": null,
  "vendor_id": 233,
  "vendor_trades": null,
  "do_not_use_for_work_order": "No",
  "terms": null,
  "first_name": "Kathleen Deanne",
  "last_name": "Acacio",
  "vendor_integration_id": "6e6cb73b-5fd1-11ef-b6c3-02094d1ce055",
  "created_by": "Louiegie Balili",
  "vendor_type": "General",
  "portal_activated": "No",
  "discount_adjustment": null,
  "markup_adjustment": null
}
--------------------




FOR DATASET:  vendor_ledger
{
  "reference_number": null,
  "bill_date": "2025-10-10",
  "due_date": "2025-10-10",
  "posting_date": "2025-10-10",
  "account": "10080 - Reimbursable Expense",
  "account_name": "Reimbursable Expense",
  "account_number": "10080",
  "property": "Stanton Management LLC - 421 Park Street Hartford, CT 06106",
  "property_name": "Stanton Management LLC",
  "property_id": 86,
  "property_address": "421 Park Street Hartford, CT 06106",
  "property_street": "421 Park Street",
  "property_street2": null,
  "property_city": "Hartford",
  "property_state": "CT",
  "property_zip": "06106",
  "unit": null,
  "payee_name": "Nieves, Carlos",
  "paid": "150.00",
  "unpaid": "0.00",
  "check_number": "688",
  "payment_date": "2025-10-10",
  "description": "Island Vibes",
  "work_order": null,
  "cash_account": "Cash Operating",
  "txn_id": 61283,
  "payable_invoice_detail_id": 104896,
  "unit_id": null,
  "quantity": null,
  "rate": null,
  "work_order_assignee": null,
  "approval_status": "Approved",
  "approved_by": null,
  "last_approver": null,
  "next_approvers": null,
  "days_pending_approval": "Approved",
  "board_approval_status": null,
  "txn_created_at": "2025-10-10T16:59:43Z",
  "txn_updated_at": "2025-10-10T16:59:43Z",
  "created_by": "Alexander Korallus-Shapiro",
  "bank_account": "SMBO-Corporate Operating",
  "vendor_account_number": null,
  "service_from": null,
  "service_to": null,
  "other_payment_type": null,
  "purchase_order_number": null,
  "purchase_order_id": null,
  "billed_back": null,
  "project": null,
  "project_id": null,
  "service_request_id": null,
  "vendor_id": 56,
  "cost_center_name": null,
  "cost_center_number": null,
  "work_order_issue": null,
  "intercompany_party_name": null,
  "intercompany_party_id": null,
  "work_order_id": null,
  "party_id": 56,
  "party_type": "Vendor"
}
--------------------


















I want you to put the create a table schema for our supabase and put it in TABLES.md like so:

if work_order is the report name (dataset), the table name should be WorkOrder (in PascalCase)

-- Drop existing table if it exists
DROP TABLE IF EXISTS "AF_WorkOrder" CASCADE;

CREATE TABLE "AF_WorkOrder" (
  "id" SERIAL PRIMARY KEY,
  
  -- Property Context
  "property" TEXT,
  "property_name" TEXT,
  "property_id" INTEGER,
  "property_address" TEXT,
  "property_street" TEXT,
  "property_street2" TEXT,
  "property_city" TEXT,
  "property_state" TEXT,
  "property_zip" TEXT,
  
  -- Unit Context
  "unit_address" TEXT,
  "unit_street" TEXT,
  "unit_street2" TEXT,
  "unit_city" TEXT,
  "unit_state" TEXT,
  "unit_zip" TEXT,
  "unit_name" TEXT,
  "unit_id" INTEGER,
  
  -- Request & Work Order IDs
  "work_order_id" INTEGER,
  "work_order_number" TEXT,
  "service_request_id" INTEGER,
  "service_request_number" TEXT,
  "unit_turn_id" INTEGER,
  
  -- Priority & Type
  "priority" TEXT,
  "work_order_type" TEXT,
  "work_order_issue" TEXT,
  "unit_turn_category" TEXT,
  
  -- Status Tracking
  "status" TEXT,
  "status_notes" TEXT,
  "recurring" TEXT,
  "submitted_by_tenant" TEXT,
  "follow_up_on" TIMESTAMPTZ,
  
  -- Vendor & Assignment
  "vendor" TEXT,
  "vendor_id" INTEGER,
  "vendor_trade" TEXT,
  "vendor_portal_invoices" INTEGER,
  "assigned_user" TEXT,
  
  -- Tenant Context
  "occupancy_id" INTEGER,
  "primary_tenant" TEXT,
  "primary_tenant_email" TEXT,
  "primary_tenant_phone_number" TEXT,
  "requesting_tenant" TEXT,
  
  -- Description & Instructions
  "service_request_description" TEXT,
  "job_description" TEXT,
  "instructions" TEXT,
  
  -- Dates
  "created_at" DATE,
  "created_by" TEXT,
  "home_warranty_expiration" DATE,
  "estimate_req_on" TIMESTAMPTZ,
  "estimated_on" TIMESTAMPTZ,
  "estimate_approved_on" TIMESTAMPTZ,
  "estimate_approval_last_requested_on" TIMESTAMPTZ,
  "scheduled_start" TIMESTAMPTZ,
  "scheduled_end" TIMESTAMPTZ,
  "work_completed_on" TIMESTAMPTZ,
  "completed_on" TIMESTAMPTZ,
  "last_billed_on" TIMESTAMPTZ,
  "canceled_on" TIMESTAMPTZ,
  "inspection_date" TIMESTAMPTZ,
  
  -- Financial Metrics
  "amount" NUMERIC(12, 2),
  "invoice" TEXT,
  "estimate_amount" NUMERIC(12, 2),
  "corporate_charge_amount" NUMERIC(12, 2),
  "corporate_charge_id" INTEGER,
  "discount_amount" NUMERIC(12, 2),
  "discount_bill_id" INTEGER,
  "markup_amount" NUMERIC(12, 2),
  "markup_bill_id" INTEGER,
  "tenant_total_charge_amount" NUMERIC(12, 2),
  "tenant_charge_ids" TEXT,
  "vendor_bill_amount" NUMERIC(12, 2),
  "vendor_bill_id" INTEGER,
  "vendor_charge_amount" NUMERIC(12, 2),
  "vendor_charge_id" INTEGER,
  "maintenance_limit" NUMERIC(12, 2),
  
  -- Approvals & Surveys
  "estimate_approval_status" TEXT,
  "survey_id" INTEGER,
  
  -- Additional Context
  "inspection_id" INTEGER
);

CREATE INDEX "idx_work_order_property" ON "AF_WorkOrder"("property_id");
CREATE INDEX "idx_work_order_unit" ON "AF_WorkOrder"("unit_id");
CREATE INDEX "idx_work_order_service_request" ON "AF_WorkOrder"("service_request_id");
CREATE INDEX "idx_work_order_work_order" ON "AF_WorkOrder"("work_order_id");
CREATE INDEX "idx_work_order_occupancy" ON "AF_WorkOrder"("occupancy_id");

===========
===========
===========


Do that for all the endpoints that are put before. 